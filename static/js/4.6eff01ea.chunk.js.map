{"version":3,"sources":["components/common/FormsControls/FormsControls.module.css","utils/validators/validators.js","components/common/FormsControls/FormsControls.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileStatusHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","required","value","maxLengthCreator","maxLength","length","Textarea","input","meta","touched","error","props","hasError","className","styles","formControl","Input","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","unsupportedIterableToArray","TypeError","ProfileStatusHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","autoFocus","onBlur","updateStatus","ProfileInfo","profile","s","descriptionBlock","src","photos","large","aboutMe","Preloader","Post","item","message","likes","maxLength10","AddPostFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","name","component","placeholder","validate","MyPosts","postsData","posts","reverse","map","post","key","id","postsBlock","formData","addPost","newPost","MyPostsContainer","connect","state","profilePage","newPostText","dispatch","addPostActionCreator","Profile","ProfileContainer","userId","this","match","params","authorizedUserId","history","getProfile","getStatus","React","Component","compose","auth","isAuth","withRouter"],"mappings":"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","file":"static/js/4.6eff01ea.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3oI2W\",\"error\":\"FormsControls_error__9lcue\",\"formSummaryError\":\"FormsControls_formSummaryError__1F2-S\"};","export const required = value => {\n    if (value) return undefined\n    return 'Field is required'\n}\n\nexport const maxLengthCreator = (maxLength) => (value) => {\n    if (value && value.length > maxLength) return `Max length is ${maxLength} symbols`\n    return undefined\n}","import React from 'react'\nimport styles from './FormsControls.module.css'\n\nexport const Textarea = ({input,meta : {touched, error},...props}) => {\n    const hasError = touched && error\n    return (\n        <div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\n            <div>\n                <textarea {...input} {...props}/>\n            </div>\n            {hasError && <span>{error}</span> }\n        </div>\n\n    )\n}\n\nexport const Input = ({input,meta : {touched, error},...props}) => {\n    const hasError = touched && error\n    return (\n        <div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\n            <div>\n                <input {...input} {...props}/>\n            </div>\n            {hasError && <span>{error}</span> }\n        </div>\n\n    )\n}\n","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3cd8Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__2ifKf\",\"posts\":\"MyPosts_posts__3tZ1c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__ihtu9\"};","import React, {useState, useEffect} from 'react'\n\nconst ProfileStatusHooks = (props) => { \n    \n    let [editMode, setEditMode ] = useState(false)\n    let [status, setStatus] = useState(props.status)\n\n    useEffect( () => {\n        setStatus(props.status)\n    }, [props.status])\n\n    const activateEditMode = () => {\n        setEditMode(true)\n    }\n\n    const deactivateEditMode = () => {\n        setEditMode(false)        \n        props.updateStatus(status)\n    }\n\n    const onStatusChange = (e) => {\n        setStatus(e.currentTarget.value)\n    }\n\n    return (\n        <>\n            {!editMode &&\n                <div>\n                    <span onDoubleClick={activateEditMode}>{props.status || \"----\"}</span>\n                </div>\n            }\n            {editMode &&\n                <div>\n                    <input onChange={ onStatusChange } autoFocus={true} onBlur={ deactivateEditMode } value={status} />\n                </div>\n            }\n            \n        </>\n    )\n    \n    \n}\n\nexport default ProfileStatusHooks","import React from 'react';\nimport s from './ProfileInfo.module.css';\nimport Preloader from '../../common/Preloader/Preloader';\nimport ProfileStatusHooks from './ProfileStatusHooks';\n\nconst ProfileInfo = ({profile, status, updateStatus}) => {\n\n    if (!profile) {\n        return <Preloader/>;\n    } else {\n        return (\n            <div>\n                <div className={s.descriptionBlock}>\n                    <img src={profile.photos.large}/>\n                    {profile.aboutMe}\n                    <ProfileStatusHooks status={status} updateStatus={updateStatus}/>\n                </div>\n            </div>\n        );\n    }\n\n    \n}\n\nexport default ProfileInfo;","import React from 'react';\nimport s from './Post.module.css';\n\nconst Post = (props) => {\n    return (\n        <div className={s.item}>\n            <img src='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQHYe4Erx36g6c_g5O6I9TPkKiF9JrRIffJPxGilG3EUVLP2f9U&s'></img>\n            {props.message}\n            <div>\n                <span>like ({props.likes})</span>\n            </div>\n        </div>\n    );\n}\n\nexport default Post;","import React from 'react';\nimport s from './MyPosts.module.css';\nimport Post from './Post/Post';\nimport {reduxForm, Field} from 'redux-form';\nimport {required,maxLengthCreator} from '../../../utils/validators/validators'\nimport { Textarea } from '../../common/FormsControls/FormsControls';\n\nconst MyPosts = (props) => {\n\n    let onAddPost = (formData) => {\n        props.addPost(formData.newPost);\n    }\n\n    let postsData = [...props.posts]\n    .reverse()\n    .map( (post) => {\n        return <Post message={post.message} likes={post.likes} key={post.id} />\n    } );\n\n    return (\n        <div className={s.postsBlock}>\n            <h3>My posts</h3>\n\n            <AddPostFormRedux onSubmit={onAddPost}/>\n\n            <div className={s.posts}>\n                { postsData }\n            </div>\n        </div>\n    );\n}\n\nconst maxLength10 = maxLengthCreator(10)\n\nconst AddPostForm = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <div>\n                <Field name={'newPost'} component={Textarea} placeholder={'New post'} \n                validate={[required,maxLength10]} />\n            </div>\n            <div>\n                <button>New Post</button>\n            </div>\n\n        </form>\n    )\n}\n\nconst AddPostFormRedux = reduxForm({form : 'addNewPost'})(AddPostForm)\n\nexport default MyPosts;","import React from 'react';\nimport {addPostActionCreator} from \"../../../redux/profile-reducer\";\nimport MyPosts from \"./MyPosts\";\nimport { connect } from 'react-redux';\n\nlet mapStateToProps = (state) => {\n    return {\n        posts : state.profilePage.posts,\n        newPostText : state.profilePage.newPostText\n    }  \n}\n\nlet mapDispatchToProps = (dispatch) => {\n    return {\n        addPost : (newPost) => {\n            dispatch(addPostActionCreator(newPost))\n        }\n\n    }\n}\n\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\n\nexport default MyPostsContainer;","import React from 'react'\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\"\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\"\n\nconst Profile = ({status,profile,updateStatus}) => {\n    return (\n        <div>\n            <ProfileInfo status={status} profile={profile} updateStatus={updateStatus}/>\n            <MyPostsContainer />\n        </div>\n    );\n}\n\nexport default Profile","import React from 'react'\nimport { connect } from 'react-redux'\nimport Profile from \"./Profile\"\nimport {getProfile, getStatus, updateStatus} from './../../redux/profile-reducer'\nimport { withRouter } from 'react-router-dom'\nimport { compose } from 'redux'\n\nclass ProfileContainer extends React.Component  {\n\n    componentDidMount () {\n\n        let userId = this.props.match.params.userId;\n        if (!userId) {\n            userId = this.props.authorizedUserId\n            if (!userId) {\n                this.props.history.push('/login')\n            }\n        }\n\n        this.props.getProfile(userId)\n        this.props.getStatus(userId)\n    }\n\n    render() {\n        return (\n            <Profile {...this.props} profile={this.props.profile} updateStatus={this.props.updateStatus}/>\n        );\n    }\n\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        profile : state.profilePage.profile,\n        status : state.profilePage.status,\n        authorizedUserId : state.auth.userId,\n        isAuth : state.auth.isAuth\n    }\n}\n\nexport default compose(\n    connect(mapStateToProps,{getProfile, getStatus, updateStatus}),\n    withRouter,\n    //withAuthRedirect\n)(ProfileContainer)\n"],"sourceRoot":""}